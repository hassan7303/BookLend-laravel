# Library API - Laravel + Sanctum

ุงู ูพุฑูฺู ฺฉ **ุณุณุชู ูุฏุฑุช ฺฉุชุงุจุฎุงูู ุจุง Laravel** ุงุณุช ฺฉู ุงูฺฉุงู ูุฏุฑุช ฺฉุงุฑุจุฑุงูุ ฺฉุชุงุจโูุงุ ูุณุฎูโูุง ฺฉุชุงุจุ ุงูุงูุช ฺฉุชุงุจ ู ุฌุฑููโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ. ุงุญุฑุงุฒ ููุช API ุจุง **Laravel Sanctum** ุงูุฌุงู ูโุดูุฏ ู ูพุงูโูุง ุฎุทุง ุจู ูุงุฑุณ ูุณุชูุฏ.

---

## โก ุชฺฉููููฺโูุง

* Laravel 12.x
* MySQL
* Laravel Sanctum (ุจุฑุง ุงุญุฑุงุฒ ููุช API)
* PHP 8.x
* Composer

---
## ๐ ุงุญุฑุงุฒ ููุช ุจุง Sanctum

1. ุซุจุช ูุงู ฺฉุงุฑุจุฑ:

```http
POST /api/register
```

* ูพุงุฑุงูุชุฑูุง:

  * `full_name` (required)
  * `email` (required)
  * `password` (required)
  * `password_confirmation` (required)

2. ูุฑูุฏ ฺฉุงุฑุจุฑ:

```http
POST /api/login
```

* ูพุงุฑุงูุชุฑูุง:

  * `email` (required)
  * `password` (required)
* ูพุงุณุฎ ุดุงูู ุชูฺฉู `Bearer` ุงุณุช ฺฉู ุจุงุฏ ุฏุฑ ูุฏุฑ ุจุฑุง ุฏุฑุฎูุงุณุชโูุง ูุญุงูุธุช ุดุฏู ุงุณุชูุงุฏู ุดูุฏ:

```
Authorization: Bearer <YOUR_TOKEN>
```

3. ุฎุฑูุฌ ุงุฒ ุญุณุงุจ:

```http
POST /api/logout
```

* ูุงุฒ ุจู ูุฏุฑ Authorization ุฏุงุฑุฏ.

---

## ๐ ุฑูุชโูุง

### ฺฉุชุงุจโูุง (Books)

| Method | Endpoint        | ุชูุถุญ                        |
| ------ | --------------- | ---------------------------- |
| GET    | /api/books      | ูุณุช ฺฉุชุงุจโูุง (ุจุง pagination) |
| GET    | /api/books/{id} | ูุดุงูุฏู ุฌุฒุฆุงุช ฺฉ ฺฉุชุงุจ        |
| POST   | /api/books      | ุงุฌุงุฏ ฺฉุชุงุจ ุฌุฏุฏ              |
| PUT    | /api/books/{id} | ูุฑุงุด ฺฉุชุงุจ                  |
| DELETE | /api/books/{id} | ุญุฐู ฺฉุชุงุจ                     |

### ูุณุฎูโูุง ฺฉุชุงุจ (Book Copies)

| Method | Endpoint                      | ุชูุถุญ                               |
| ------ | ----------------------------- | ----------------------------------- |
| GET    | /api/copies                   | ูุณุช ูุณุฎูโูุง ฺฉุชุงุจ                  |
| GET    | /api/copies/{id}              | ูุดุงูุฏู ูุณุฎู ุฎุงุต                     |
| POST   | /api/copies                   | ุงุฌุงุฏ ูุณุฎู ฺฉุชุงุจ                     |
| PUT    | /api/copies/{id}              | ูุฑุงุด ูุณุฎู                         |
| POST   | /api/copies/{id}/library-only | ูุฑุงุฑ ุฏุงุฏู ูุณุฎู ุฏุฑ ุญุงูุช ููุท ฺฉุชุงุจุฎุงูู |

### ุงูุงูุชโูุง (Borrows)

| Method | Endpoint                       | ุชูุถุญ                  |
| ------ | ------------------------------ | ---------------------- |
| POST   | /api/borrows                   | ุงูุงูุช ฺฏุฑูุชู ฺฉุชุงุจ       |
| POST   | /api/borrows/return/{borrowId} | ุจุงุฒฺฏุฑุฏุงูุฏู ฺฉุชุงุจ        |
| GET    | /api/borrows/my                | ูุดุงูุฏู ุงูุงูุชโูุง ฺฉุงุฑุจุฑ |

### ุฌุฑููโูุง (Fines)

| Method | Endpoint            | ุชูุถุญ         |
| ------ | ------------------- | ------------- |
| GET    | /api/fines          | ูุณุช ุฌุฑููโูุง |
| POST   | /api/fines/{id}/pay | ูพุฑุฏุงุฎุช ุฌุฑูู  |

> ุชูุงู ุฑูุชโูุง ูุญุงูุธุช ุดุฏู ูุงุฒ ุจู ูุฏุฑ Authorization ุจุง ุชูฺฉู Sanctum ุฏุงุฑูุฏ.

---

## โ๏ธุฏุชุงุจุณ

### Users

| ุณุชูู                   | ููุน                      | ุชูุถุญ               |
| ---------------------- | ------------------------ | ------------------- |
| id                     | INT                      | ุดูุงุณู ฺฉุงุฑุจุฑ         |
| full_name              | VARCHAR(100)             | ูุงู ฺฉุงูู ฺฉุงุฑุจุฑ      |
| email                  | VARCHAR(100)             | ุงูู ฺฉุงุฑุจุฑ         |
| phone                  | VARCHAR(20)              | ุดูุงุฑู ุชููู          |
| password               | VARCHAR                  | ุฑูุฒ ุนุจูุฑ ูุด ุดุฏู     |
| status                 | VARCHAR | ('active','blocked')ูุถุนุช ฺฉุงุฑุจุฑ         |
| created_at, updated_at | TIMESTAMP                | ุฒูุงู ุงุฌุงุฏ ู ูุฑุงุด |

### Books

| ุณุชูู                   | ููุน          | ุชูุถุญ               |
| ---------------------- | ------------ | ------------------- |
| id                     | INT          | ุดูุงุณู ฺฉุชุงุจ          |
| title                  | VARCHAR(200) | ุนููุงู ฺฉุชุงุจ          |
| author_id              | INT          | ูุฑุฌุน ููุณูุฏู        |
| category_id            | INT          | ูุฑุฌุน ุฏุณุชูโุจูุฏ      |
| description            | TEXT         | ุชูุถุญุงุช             |
| created_at, updated_at | TIMESTAMP    | ุฒูุงู ุงุฌุงุฏ ู ูุฑุงุด |

### BookCopies

| ุณุชูู                   | ููุน         | ุชูุถุญ                                                                   |
| ---------------------- | ----------- | ----------------------------------------------------------------------- |
| id                     | INT         | ุดูุงุณู ูุณุฎู                                                              |
| book_id                | INT         | ูุฑุฌุน ฺฉุชุงุจ                                                               |
| barcode                | VARCHAR(50) | ุจุงุฑฺฉุฏ ูุณุฎู                                                              |
| status                 | VARCHAR        | ูุถุนุช ูุณุฎู (available, borrowed, reserved, library_only, damaged, lost) |
| created_at, updated_at | TIMESTAMP   | ุฒูุงู ุงุฌุงุฏ ู ูุฑุงุด                                                     |

### Borrows

| ุณุชูู                   | ููุน       | ุชูุถุญ                                  |
| ---------------------- | --------- | -------------------------------------- |
| id                     | INT       | ุดูุงุณู ุงูุงูุช                            |
| user_id                | INT       | ูุฑุฌุน ฺฉุงุฑุจุฑ                             |
| book_copy_id           | INT       | ูุฑุฌุน ูุณุฎู ฺฉุชุงุจ                         |
| borrow_date            | DATE      | ุชุงุฑุฎ ุงูุงูุช                            |
| due_date               | DATE      | ุชุงุฑุฎ ุณุฑุฑุณุฏ                           |
| return_date            | DATE      | ุชุงุฑุฎ ุจุงุฒฺฏุดุช                           |
| status                 | VARCHAR      | ูุถุนุช ุงูุงูุช (borrowed, returned, late) |
| created_at, updated_at | TIMESTAMP | ุฒูุงู ุงุฌุงุฏ ู ูุฑุงุด                    |

### FineRules

| ุณุชูู                   | ููุน         | ุชูุถุญ               |
| ---------------------- | ----------- | ------------------- |
| id                     | INT         | ุดูุงุณู ูุงููู ุฌุฑูู   |
| per_day_amount         | INT         | ูุจูุบ ุฌุฑูู ุฑูุฒุงูู   |
| currency               | VARCHAR(10) | ูุงุญุฏ ูพูู            |
| active                 | BOOLEAN     | ูุนุงู/ุบุฑูุนุงู        |
| created_at, updated_at | TIMESTAMP   | ุฒูุงู ุงุฌุงุฏ ู ูุฑุงุด |

### Fines

| ุณุชูู                   | ููุน       | ุชูุถุญ               |
| ---------------------- | --------- | ------------------- |
| id                     | INT       | ุดูุงุณู ุฌุฑูู         |
| borrow_id              | INT       | ูุฑุฌุน ุงูุงูุช          |
| days_late              | INT       | ุชุนุฏุงุฏ ุฑูุฒ ุชุฃุฎุฑ     |
| amount                 | INT       | ูุจูุบ ุฌุฑูู          |
| paid                   | BOOLEAN   | ูุถุนุช ูพุฑุฏุงุฎุช        |
| paid_date              | DATE      | ุชุงุฑุฎ ูพุฑุฏุงุฎุช        |
| created_at, updated_at | TIMESTAMP | ุฒูุงู ุงุฌุงุฏ ู ูุฑุงุด |

---

## โก ูฺฉุงุช ุญุฑููโุง

* ููุฏุดูโูุง ุจุง Validator facade ู ูพุงูโูุง ูุงุฑุณ ูุณุชูุฏ.
* ุงุณุชูุงุฏู ุงุฒ ุซุงุจุชโูุง (`const`) ุจุฑุง ูุถุนุชโูุง BookCopy ู Borrow.
* API ุงุณุชุงูุฏุงุฑุฏ ู ูุงุจู ุชูุณุนู ุจุฑุง ูุฏุฑุช ฺฉุชุงุจุฎุงูู.
* ุงุญุฑุงุฒ ููุช ุจุง Sanctum ู ุงุณุชูุงุฏู ุงุฒ ุชูฺฉู Bearer.
* ุชูุงู ุฑูุชโูุง CRUD ู ุนููุงุช ุฎุงุต (library-onlyุ borrow/return) ูพุดุชุจุงู ูโุดููุฏ.

---
